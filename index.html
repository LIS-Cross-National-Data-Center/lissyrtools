<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tools for LISSY Jobs • lissyrtools</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Tools for LISSY Jobs">
<meta name="description" content="Tools for the computation of inequality indicators in LISSY. This package contains three different types of functions. Read, transformation and output functions. Read functions should allow LISSY users to read LIS and LWS files with functionalities that extend those provided by read.LIS(). Transformation functions add easy data manipulation stages to LISSY jobs. Output functions help users create outputs and plots for their tasks.">
<meta property="og:description" content="Tools for the computation of inequality indicators in LISSY. This package contains three different types of functions. Read, transformation and output functions. Read functions should allow LISSY users to read LIS and LWS files with functionalities that extend those provided by read.LIS(). Transformation functions add easy data manipulation stages to LISSY jobs. Output functions help users create outputs and plots for their tasks.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">lissyrtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.10</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LIS-Cross-National-Data-Center/lissyrtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="lissyrtools-">lissyrtools <a href="https://www.lisdatacenter.org/" class="external-link"><img src="reference/figures/lissyrtools_badge_classic.png" align="right" height="200" style="float:right; height:200px;"></a>
<a class="anchor" aria-label="anchor" href="#lissyrtools-"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p><br><br><br></p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>A package with the tools needed to develop scripts with LIS data</p>
<p>It allows users to:</p>
<p>* Read LIS data within the LISSY environment, or to use LIS sample files locally.</p>
<p>* Carry out commonly performed data cleaning tasks.</p>
<p>* Compute estimates from microdata.</p>
</div>
<div class="section level2">
<h2 id="version">Version<a class="anchor" aria-label="anchor" href="#version"></a>
</h2>
<p>This package is currently in Beta version.</p>
<p>For questions and help, email usersupport(add)lisdatacenter.org</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package is already installed in LISSY by the LIS Data Center team.</p>
<p>You can install the package locally to work with your own data or with the <a href="https://www.lisdatacenter.org/resources/self-teaching/" class="external-link">LIS Sample Datasets</a> from this GitHub repo with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"https://github.com/LIS-Cross-National-Data-Center/lissyrtools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>lissyrtools provides its users with a set of functions and embedded objects designed to help users access and manipulate data in LIS’s remote execution system: <a href="https://www.lisdatacenter.org/data-access/lissy/" class="external-link">LISSY</a>. By providing built-in sample datasets in lissyrtools, we also encourage users to develop their LISSY scripts locally, where debugging and writing R code are more efficient in IDEs like RStudio.</p>
<p>Data first needs to be loaded using the <a href="https://lis-cross-national-data-center.github.io/lissyuse_2.0_doc/lissyuse_2.0_doc.html" class="external-link">lissyuse()</a> function, which creates the list <code>lis_datasets</code> or <code>lws_datasets</code> if its argument <code>lws</code> == TRUE. Subsequently, the list can be transformed using other functions from <strong>lissyrtools</strong> in a pipeline structure, enabling users to generate aggregated figures for the entire dataset or specific subgroups.</p>
<div class="section level3">
<h3 id="lissy-version">LISSY version<a class="anchor" aria-label="anchor" href="#lissy-version"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/LIS-Cross-National-Data-Center/lissyrtools" class="external-link">lissyrtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the datasets </span></span>
<span><span class="fu">lissyrtools</span><span class="fu">::</span><span class="fu"><a href="reference/lissyuse.html">lissyuse</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="st">"ca"</span>, </span>
<span>  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dhi"</span>, <span class="st">"pi11"</span>, <span class="st">"age"</span><span class="op">)</span>, </span>
<span>  from <span class="op">=</span> <span class="fl">2014</span>, </span>
<span>  to <span class="op">=</span> <span class="fl">2019</span></span>
<span>  <span class="op">)</span> </span>
<span><span class="co"># This function creates the list `lis_datasets`</span></span>
<span></span>
<span><span class="co"># Clean target variables:</span></span>
<span><span class="co">## pi11</span></span>
<span><span class="va">lissy_datasets_transformed</span> <span class="op">&lt;-</span> <span class="va">lis_datasets</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_false_zeros_to_na.html">transform_false_zeros_to_na</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_negative_values_to_zero.html">transform_negative_values_to_zero</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_zeros_to_na.html">transform_zeros_to_na</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_top_code_with_iqr.html">transform_top_code_with_iqr</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_top_code_with_iqr.html">transform_bottom_code_with_iqr</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_adjust_by_lisppp.html">transform_adjust_by_lisppp</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_restrict_age.html">transform_restrict_age</a></span><span class="op">(</span><span class="st">"pi11"</span>, from <span class="op">=</span> <span class="fl">16</span>, to <span class="op">=</span> <span class="fl">64</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## dhi</span></span>
<span><span class="va">lissy_datasets_transformed</span> <span class="op">&lt;-</span> <span class="va">lissy_datasets_transformed</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_false_zeros_to_na.html">transform_false_zeros_to_na</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_negative_values_to_zero.html">transform_negative_values_to_zero</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_top_code_with_iqr.html">transform_top_code_with_iqr</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_top_code_with_iqr.html">transform_bottom_code_with_iqr</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_equivalise.html">transform_equivalise</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_adjust_by_lisppp.html">transform_adjust_by_lisppp</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute indicators</span></span>
<span><span class="fu"><a href="reference/print_indicator.html">print_indicator</a></span><span class="op">(</span><span class="va">lissy_datasets_transformed</span>,</span>
<span>                             variable <span class="op">=</span> <span class="st">"dhi"</span>,</span>
<span>                             indicator <span class="op">=</span> <span class="st">"gini"</span>,</span>
<span>                             na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                             </span>
<span><span class="fu"><a href="reference/print_indicator.html">print_indicator</a></span><span class="op">(</span><span class="va">lissy_datasets_transformed</span>,</span>
<span>                             variable <span class="op">=</span> <span class="st">"pi11"</span>,</span>
<span>                             indicator <span class="op">=</span> <span class="st">"gini"</span>,</span>
<span>                             na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># To load LWS datasets, set the argument `lws` == TRUE:</span></span>
<span><span class="fu"><a href="reference/lissyuse.html">lissyuse</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"us"</span>, <span class="st">"uk17"</span>, <span class="st">"uk19"</span><span class="op">)</span>, </span>
<span>  vars <span class="op">=</span> <span class="st">"dnw"</span>, </span>
<span>  from <span class="op">=</span> <span class="fl">2015</span>, </span>
<span>  to <span class="op">=</span> <span class="fl">2021</span>,</span>
<span>  lws <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># When working with LWS datasets, the list will be named lws_datasets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">lws_datasets</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="local-version">Local version<a class="anchor" aria-label="anchor" href="#local-version"></a>
</h3>
<p>When working with <code>lissyrtools</code> locally, use <code><a href="reference/lissyuse.html">lissyuse()</a></code>, along with the <a href="https://www.lisdatacenter.org/resources/self-teaching/" class="external-link">sample files</a> made available in the package. For LIS we have the following, for LWS we have this other ones …..</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/lissyuse.html">lissyuse</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"it14"</span>, <span class="st">"us16"</span>, <span class="st">"mx18"</span><span class="op">)</span>, lws <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>                              </span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="documentation-and-support">Documentation and Support<a class="anchor" aria-label="anchor" href="#documentation-and-support"></a>
</h2>
<p>Please visit <a href="https://lis-cross-national-data-center.github.io/lissyrtools/" class="uri">https://lis-cross-national-data-center.github.io/lissyrtools/</a> for documentation and vignettes with examples.</p>
<p>Dependencies references:</p>
<ul>
<li><p><a href="https://magrittr.tidyverse.org/" class="external-link">magrittr</a>;</p></li>
<li><p><a href="https://dplyr.tidyverse.org/" class="external-link">dplyr</a>;</p></li>
<li><p><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></p></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/LIS-Cross-National-Data-Center/lissyrtools/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing lissyrtools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Josep Espasa Reig <br><small class="roles"> Author </small>  </li>
<li>Gonçalo Marques <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/LIS-Cross-National-Data-Center/lissyrtools" class="external-link"><img src="https://img.shields.io/badge/devel%20version-0.1.2-blue.svg"></a></li>
<li><a href="https://codecov.io/gh/LIS-Cross-National-Data-Center/lissyrtools" class="external-link"><img src="https://codecov.io/gh/LIS-Cross-National-Data-Center/lissyrtools/graph/badge.svg?token=kd2zXPsfWz" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Josep Espasa Reig, Gonçalo Marques.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
