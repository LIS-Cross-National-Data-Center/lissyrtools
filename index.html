<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tools for LISSY Jobs • lissyrtools</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Tools for LISSY Jobs">
<meta name="description" content="Tools for the computation of inequality indicators in LISSY. This package contains three different types of functions. Read, transformation and output functions. Read functions should allow LISSY users to read LIS and LWS files with functionalities that extend those provided by read.LIS(). Transformation functions add easy data manipulation stages to LISSY jobs. Output functions help users create outputs and plots for their tasks.">
<meta property="og:description" content="Tools for the computation of inequality indicators in LISSY. This package contains three different types of functions. Read, transformation and output functions. Read functions should allow LISSY users to read LIS and LWS files with functionalities that extend those provided by read.LIS(). Transformation functions add easy data manipulation stages to LISSY jobs. Output functions help users create outputs and plots for their tasks.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">lissyrtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LIS-Cross-National-Data-Center/lissyrtools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="lissyrtools">lissyrtools<a class="anchor" aria-label="anchor" href="#lissyrtools"></a>
</h1></div>
<div class="section level2">
<h2 id="build--testing-status">Build &amp; Testing Status<a class="anchor" aria-label="anchor" href="#build--testing-status"></a>
</h2>
<!-- badges: start -->

</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Tools for computing inequality estimates in the <a href="https://www.lisdatacenter.org/" class="external-link">LIS Data Center</a> LISSY environment.</p>
<p>It allows users to: * Read LIS data within the LISSY environment. * Carry out commonly performed data cleaning tasks. * Compute and plot estimates from microdata.</p>
</div>
<div class="section level2">
<h2 id="version">Version<a class="anchor" aria-label="anchor" href="#version"></a>
</h2>
<p>This package is currently in Beta version.</p>
<p>For questions and help, email usersupport(add)lisdatacenter.org</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package is already installed in LISSY by the LIS Data Center team.</p>
<p>You can install the package locally to work with your own data or with the <a href="https://www.lisdatacenter.org/resources/self-teaching/" class="external-link">LIS Sample Datasets</a> from this GitHub repo with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"https://github.com/LIS-Cross-National-Data-Center/lissyrtools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="lissy-version">LISSY version<a class="anchor" aria-label="anchor" href="#lissy-version"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/LIS-Cross-National-Data-Center/lissyrtools" class="external-link">lissyrtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read the datasets</span></span>
<span><span class="va">files_h</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_lissy_files.html">read_lissy_files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ca14h"</span>, <span class="st">"ca15h"</span>, <span class="st">"ca16h"</span>, <span class="st">"ca17h"</span>, <span class="st">"ca18h"</span>, <span class="st">"ca19h"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">files_p</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_lissy_files.html">read_lissy_files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ca14p"</span>, <span class="st">"ca15p"</span>, <span class="st">"ca16p"</span>, <span class="st">"ca17p"</span>, <span class="st">"ca18p"</span>, <span class="st">"ca19p"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge household and person-level files</span></span>
<span><span class="va">lissy_datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/merge_dataset_levels.html">merge_dataset_levels</a></span><span class="op">(</span><span class="va">files_h</span>, <span class="va">files_p</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clean target variables:</span></span>
<span><span class="co">## pi11</span></span>
<span><span class="va">lissy_datasets_transformed</span> <span class="op">&lt;-</span> <span class="va">lissy_datasets</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_false_zeros_to_na.html">transform_false_zeros_to_na</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_negative_values_to_zero.html">transform_negative_values_to_zero</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_zeros_to_na.html">transform_zeros_to_na</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_top_code_with_iqr.html">transform_top_code_with_iqr</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_top_code_with_iqr.html">transform_bottom_code_with_iqr</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_adjust_by_lisppp.html">transform_adjust_by_lisppp</a></span><span class="op">(</span><span class="st">"pi11"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_restrict_age.html">transform_restrict_age</a></span><span class="op">(</span><span class="st">"pi11"</span>, from <span class="op">=</span> <span class="fl">16</span>, to <span class="op">=</span> <span class="fl">64</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## dhi</span></span>
<span><span class="va">lissy_datasets_transformed</span> <span class="op">&lt;-</span> <span class="va">lissy_datasets_transformed</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_false_zeros_to_na.html">transform_false_zeros_to_na</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_negative_values_to_zero.html">transform_negative_values_to_zero</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_top_code_with_iqr.html">transform_top_code_with_iqr</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_top_code_with_iqr.html">transform_bottom_code_with_iqr</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_equivalise.html">transform_equivalise</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/transform_adjust_by_lisppp.html">transform_adjust_by_lisppp</a></span><span class="op">(</span><span class="st">"dhi"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute indicators</span></span>
<span><span class="fu"><a href="reference/print_indicator.html">print_indicator</a></span><span class="op">(</span><span class="va">lissy_datasets_transformed</span>,</span>
<span>                             variable <span class="op">=</span> <span class="st">"dhi"</span>,</span>
<span>                             indicator <span class="op">=</span> <span class="st">"gini"</span>,</span>
<span>                             na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>                             </span>
<span><span class="fu"><a href="reference/print_indicator.html">print_indicator</a></span><span class="op">(</span><span class="va">lissy_datasets_transformed</span>,</span>
<span>                             variable <span class="op">=</span> <span class="st">"pi11"</span>,</span>
<span>                             indicator <span class="op">=</span> <span class="st">"gini"</span>,</span>
<span>                             na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute and plot indicators                        </span></span>
<span><span class="fu"><a href="reference/plot_indicator.html">plot_indicator</a></span><span class="op">(</span><span class="va">lissy_datasets_transformed</span>, variable <span class="op">=</span> <span class="st">"dhi"</span>,</span>
<span>                             indicator <span class="op">=</span> <span class="st">"gini"</span>,</span>
<span>                             na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="local-version">Local version<a class="anchor" aria-label="anchor" href="#local-version"></a>
</h3>
<p>When working with <code>lissyrtools</code> locally, use <code><a href="reference/read_lissy_files_locally.html">read_lissy_files_locally()</a></code> instead of <code><a href="reference/read_lissy_files.html">read_lissy_files()</a></code>. The file names then be passed with the <code>ccyydl</code> (e.g. ‘us16ih’) format instead of <code>ccyyl</code> (‘us16h’). The path to the files should also be specified. E.g.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">files_h</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_lissy_files_locally.html">read_lissy_files_locally</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"it14ih"</span>, <span class="st">"us16ih"</span>, <span class="st">"mx18ih"</span><span class="op">)</span>,</span>
<span>                                    path_to_files <span class="op">=</span> <span class="st">"path/to/your/directory/"</span><span class="op">)</span></span>
<span><span class="va">files_p</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_lissy_files_locally.html">read_lissy_files_locally</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"it14ip"</span>, <span class="st">"us16ip"</span>, <span class="st">"mx18ip"</span><span class="op">)</span>,</span>
<span>                                    path_to_files <span class="op">=</span> <span class="st">"path/to/your/directory/"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="documentation-and-support">Documentation and Support<a class="anchor" aria-label="anchor" href="#documentation-and-support"></a>
</h2>
<p>Please visit <a href="https://lis-cross-national-data-center.github.io/lissyrtools/" class="uri">https://lis-cross-national-data-center.github.io/lissyrtools/</a> for documentation and vignettes with examples.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/LIS-Cross-National-Data-Center/lissyrtools/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing lissyrtools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Josep Espasa Reig <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/LIS-Cross-National-Data-Center/lissyrtools" class="external-link"><img src="https://img.shields.io/badge/devel%20version-0.1.2-blue.svg"></a></li>
<li><a href="https://codecov.io/gh/LIS-Cross-National-Data-Center/lissyrtools" class="external-link"><img src="https://codecov.io/gh/LIS-Cross-National-Data-Center/lissyrtools/graph/badge.svg?token=kd2zXPsfWz" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Josep Espasa Reig.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
