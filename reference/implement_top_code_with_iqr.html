<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Apply top or bottom coding with log IQR to a single file — implement_top_code_with_iqr • lissyrtools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Apply top or bottom coding with log IQR to a single file — implement_top_code_with_iqr"><meta name="description" content="

Applies an upper or lower limit on variable values using the Interquartile Range (IQR)
of the variable transformed with the natural logarithm and a scale factor
('times'). For 'household level' variables, the IQR of the log transformed variable is computed using only
household heads. For 'person level' variables, all individuals in the file are used."><meta property="og:description" content="

Applies an upper or lower limit on variable values using the Interquartile Range (IQR)
of the variable transformed with the natural logarithm and a scale factor
('times'). For 'household level' variables, the IQR of the log transformed variable is computed using only
household heads. For 'person level' variables, all individuals in the file are used."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lissyrtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.12</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Apply top or bottom coding with log IQR to a single file</h1>

      <div class="d-none name"><code>implement_top_code_with_iqr.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a>

Applies an upper or lower limit on variable values using the Interquartile Range (IQR)
of the variable transformed with the natural logarithm and a scale factor
('times'). For 'household level' variables, the IQR of the log transformed variable is computed using only
household heads. For 'person level' variables, all individuals in the file are used.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">implement_top_code_with_iqr</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  <span class="va">file_name</span>,</span>
<span>  <span class="va">variable</span>,</span>
<span>  <span class="va">times</span>,</span>
<span>  <span class="va">file_level</span>,</span>
<span>  variable_level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weight <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">implement_bottom_code_with_iqr</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  <span class="va">file_name</span>,</span>
<span>  <span class="va">variable</span>,</span>
<span>  <span class="va">times</span>,</span>
<span>  <span class="va">file_level</span>,</span>
<span>  variable_level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weight <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>A LIS or LWS file.</p></dd>


<dt id="arg-file-name">file_name<a class="anchor" aria-label="anchor" href="#arg-file-name"></a></dt>
<dd><p>A string with the name of the LIS or LWS file.</p></dd>


<dt id="arg-variable">variable<a class="anchor" aria-label="anchor" href="#arg-variable"></a></dt>
<dd><p>A string with the variable to which top coding should be applied.</p></dd>


<dt id="arg-times">times<a class="anchor" aria-label="anchor" href="#arg-times"></a></dt>
<dd><p>A numeric indicating the scale factor for IQR. Defaults to 3.</p></dd>


<dt id="arg-file-level">file_level<a class="anchor" aria-label="anchor" href="#arg-file-level"></a></dt>
<dd><p>A string indicating the level of the file. Valid inputs are:
'household', 'h', 'person' or 'p'.</p></dd>


<dt id="arg-variable-level">variable_level<a class="anchor" aria-label="anchor" href="#arg-variable-level"></a></dt>
<dd><p>A string with the level of the variable. Should be either 'household' or 'person'.
If NULL (default), the function will try to guess the level of the variable.
This is done by comparing the value in 'variable' with pre-set lists of variables.</p></dd>


<dt id="arg-weight">weight<a class="anchor" aria-label="anchor" href="#arg-weight"></a></dt>
<dd><p>A string with the name of the variable in 'file' that should be
used as sample weights.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble containing the file with the recoded variable.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>To be used inside transform_top_code_with_iqr() and transform_bottom_code_with_iqr() .</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gonçalo Marques, Josep Espasa Reig.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

